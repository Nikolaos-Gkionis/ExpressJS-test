!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).pdsDesignSystem={})}(this,(function(t){"use strict";var e,n,o,r;window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),Array.from||(Array.from=(e=Object.prototype.toString,n=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},o=Math.pow(2,53)-1,r=function(t){var e=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e}(t);return Math.min(Math.max(e,0),o)},function(t){var e=this,o=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,a=arguments.length>1?arguments[1]:void 0;if(void 0!==a){if(!n(a))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(i=arguments[2])}for(var l,u=r(o.length),s=n(e)?Object(new e(u)):new Array(u),c=0;c<u;)l=o[c],s[c]=a?void 0===i?a(l,c):a.call(i,l,c):l,c+=1;return s.length=u,s})),Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(this))return null;do{if(e.matches(t))return e;e=e.parentElement}while(null!==e);return null});var i="p-primary-nav__item--dropdown",a="p-primary-nav__item-link",l="p-primary-nav__item--open",u=function(){function t(){var t=this;this.nav=null,this.toggleMenuButton=null,this.nav=document.querySelector(".".concat("p-primary-nav")),this.toggleMenuButton=document.querySelectorAll(".".concat("p-primary-nav__toggle-menu")),this.outsideClickEventListener=function(e){return t.handleOutsideClick(e)},this.setupListeners()}return t.prototype.setupListeners=function(){var t,e,n=this;this.nav&&((null===(t=this.nav)||void 0===t?void 0:t.querySelectorAll(".".concat(i))).forEach((function(t){t.addEventListener("click",(function(t){var e=null==t?void 0:t.currentTarget;(null==t?void 0:t.target).classList.contains("p-primary-nav__subitem-link")||(t.preventDefault(),n.handleNavItemClick(e))}))})),null===(e=this.toggleMenuButton)||void 0===e||e.forEach((function(t){t.addEventListener("click",(function(t){return n.toggleMobileMenu(t)}))})))},t.prototype.handleNavItemClick=function(t){t&&(this.closeOtherSubNavs(t),this.toggleDropdown(t),this.toggleAriaExpanded(t))},t.prototype.toggleMobileMenu=function(t){var e;t.preventDefault(),null===(e=this.nav)||void 0===e||e.classList.toggle("p-primary-nav--open")},t.prototype.handleOutsideClick=function(t){var e;if(!t.target.closest(".p-primary-nav")){var n=null===(e=this.nav)||void 0===e?void 0:e.querySelectorAll(".".concat(i)),o=Array.from(n||[]);this.closeSubNavs(o)}},t.prototype.toggleDropdown=function(t){t.classList.toggle(l),this.subNavIsOpen(t)?document.removeEventListener("click",this.outsideClickEventListener):document.addEventListener("click",this.outsideClickEventListener)},t.prototype.toggleAriaExpanded=function(t){var e=t.querySelector(".".concat(a));null==e||e.setAttribute("aria-expanded",this.subNavIsOpen(t)?"false":"true")},t.prototype.subNavIsOpen=function(t){var e=t.querySelector(".".concat(a));return"true"===(null==e?void 0:e.getAttribute("aria-expanded"))},t.prototype.closeOtherSubNavs=function(t){if(t.parentNode){var e=Array.from(t.parentNode.children).filter((function(e){return e!==t}));this.closeSubNavs(e)}},t.prototype.closeSubNavs=function(t){t.forEach((function(t){var e=t.querySelector(".".concat(a));t.classList.remove(l),null==e||e.setAttribute("aria-expanded","false")}))},t}();t.PrimaryNav=u,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=index.min.js.map
